(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const d=document.querySelector(".input-js"),f=document.querySelector(".btn-add"),l=document.querySelector(".todo-list"),a="todo",i=JSON.parse(localStorage.getItem(a))??[];f.addEventListener("click",g);l.addEventListener("click",m);l.addEventListener("click",L);if(i.length){const t=i.map(u).join("");l.insertAdjacentHTML("beforeend",t)}function g(){if(!d.value.trim())return;const t={id:Date.now(),status:"todo",text:d.value};l.insertAdjacentHTML("beforeend",u(t)),i.push(t),localStorage.setItem(a,JSON.stringify(i))}function u({id:t,status:r,text:n}){return`<li id="${t}" class="${r}">
  <p>${n}</p>
  <button type="button" class="${r==="todo"?"btn-update":"btn-delete"}"></button>
  </li>`}function m(t){t.target.nodeName==="LI"&&(t.target.classList.contains("todo")?(t.target.classList.remove("todo"),t.target.classList.add("complete"),t.target.lastElementChild.classList.remove("btn-update"),t.target.lastElementChild.classList.add("btn-delete")):(t.target.classList.remove("complete"),t.target.classList.add("todo"),t.target.lastElementChild.classList.remove("btn-delete"),t.target.lastElementChild.classList.add("btn-update")),p(t.target))}function p(t){const n=JSON.parse(localStorage.getItem(a)).map(s=>(s.id===Number(t.id)&&(s.status=t.classList[0]),s));localStorage.setItem(a,JSON.stringify(n))}function L(t){if(!t.target.classList.contains("btn-delete"))return;const n=JSON.parse(localStorage.getItem(a)).filter(s=>t.target.closest("li").id!==s.id);console.log(n),t.target.closest("li").remove(),localStorage.setItem(a,JSON.stringify(n))}
